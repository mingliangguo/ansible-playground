---
- name: create .local/bin directory
  file:
    path: ~/.local/bin
    state: directory

- name: create misc directories
  file:
    state: directory
    path: "~/{{ item }}"
    mode: 0700
  loop:
    - .ansible/tmp
    - gitRepo
    - work

- name: download /etc/hosts file from someonewhocares.org
  get_url:
    url: https://someonewhocares.org/hosts/zero/hosts
    dest: /etc/hosts
    force: yes
    mode: 0644
  become: true

- include_tasks: "{{ ansible_os_family }}.yml"

- name: install packages
  ansible.builtin.package:
    name:
      - software-properties-common
      - build-essential
      - libssl-dev
      - libffi-dev
      - zlib1g-dev
      - libreadline-dev
      - libbz2-dev
      - libsqlite3-dev
      - llvm
      - libncurses5-dev 
      - ca-certificates
      - vim
      - unzip
      - wget
      - curl
      - byobu
      - bash-completion
      - jq
      - git
      - ripgrep
      - bzip2
      - ruby
      - virtualenv
      - python3-dev
      - python3-venv
      - python3-pip
      - python3-setuptools
      - python-is-python3
      - awscli
      - make
      - openjdk-11-jdk
      - gradle
      - maven
      - neovim
    state: present
  become: true
